<style>
  #map {
    width: 100%;
    height: 100vh;
  }
</style>

<script>
  var map = L.map('map', {
    zoom: 6,
    center: [46.5, 2.5],
    timeDimension: true,
    timeDimensionOptions: {
      timeInterval: "1993-01-01/2003-12-31",
      period: "P1Y"
    },
    timeDimensionControl: true,
    timeDimensionControlOptions: {
      autoPlay: true,
      loopButton: true,
      timeSliderDragUpdate: true
    }
  });

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  var geojsonLayer = new L.GeoJSON.AJAX("famille.geojson", {
    onEachFeature: function (feature, layer) {
      if (feature.properties && feature.properties.popup) {
        layer.bindPopup(feature.properties.popup);
      }
    }
  });

  var timedGeoJSONLayer = L.timeDimension.layer.geoJson(geojsonLayer, {
    updateTimeDimension: true,
    updateTimeDimensionMode: 'replace',
    addlastPoint: false,
    duration: 'P1Y'
  });

  geojsonLayer.addTo(map);
  timedGeoJSONLayer.addTo(map);
</script>
